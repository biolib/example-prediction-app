# The .biolib/config.yml file tells our Biolib backend:
# - Where to find your already built built Docker image (using its tag)
# - What inputs and outputs the app uses
# - How to setup the Biolib.com app user-interface
# Read more: https://biolib.com/docs/building-applications/syntax-of-config-yml/#modules-

biolib_version: 2 # used for backwards compatibility

modules:
  main:  # Must have at least 1 module, named "main" = the entry point of the Docker container
    working_directory: /home/biolib/  # Default /
    image: 'local-docker://prediction-app:latest' # Name of locally built Docker image
    command: 'python3 /home/biolib/predict.py'  # Command to run inside the container (environment)
    input_files:  # Where to put user input files inside the container
      - COPY / /home/biolib/
    output_files:  # Which output files or folders to return to the user from the container
      - COPY /home/biolib/ / 

# Biolib.com app user-interface
# Read more: https://biolib.com/docs/building-applications/syntax-of-config-yml/#arguments
arguments:
  - 
    key: '--fasta'  # predict.py input argument
    description: 'Enter one or more proteins in FASTA format' # required
    key_value_separator: ' '  # optional, default is ' '
    default_value: /home/biolib/sample.fasta  # Pre-filled input file
    type: text-file # required. Can also have text, file, hidden, toggle, number, radio, dropbox, multiselect
    required: true # optional, default is true

  - 
    # Extra options
    key: '--model'
    type: toggle
    description: I love BioLib
    options:
          "on": "model1"
          "off": "model2"

# Visualize outputs based on output file extension
main_output_file: /predictions.csv # Optional

# Extra web app arguments
description_file: README.md # Renders README as markdown (default README.md)
license_file: LICENSE # License in side-bar (default LICENSE)

# Citation field (left side-bar). Uses Bibtex but in YAML format.
citation:
    entry_type: misc
    author: Magnus Haraldson HÃ¸ie, Mads Damgaard Pedersen and others
    title: prediction-app
    publisher: Biolib Research
    year: '2024'
